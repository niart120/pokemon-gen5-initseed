# ポケモン生成機能 UI/UX仕様書

## 1. 概要

ポケモン生成機能のユーザーインターフェース設計と、ユーザーエクスペリエンスの詳細仕様を定義する。

## 2. 画面構成

### 2.1 全体レイアウト

```
┌─────────────────────────────────────────────────────────┐
│ Header: Pokemon BW/BW2 Init Seed Search + Generation    │
├─────────────────────────────────────────────────────────┤
│ Navigation Tabs:                                        │
│ [Search] [Generation] [Option] [Help]                  │
├─────────────────────────────────────────────────────────┤
│                                                         │
│ Main Content Area                                       │
│ （タブに応じて切り替わる）                                │
│                                                         │
├─────────────────────────────────────────────────────────┤
│ Footer:                                                 │
└─────────────────────────────────────────────────────────┘
```

### 2.2 新規タブ「Generation」

既存のタブ構成に「Generation」タブを追加し、ポケモン生成機能を提供する。

## 3. Generation タブ仕様

### 3.1 入力エリア

#### 3.1.1 基本設定カード

```
┌── Basic Parameters ─────────────────────────────────────┐
│ Initial Seed: [0x12345678    ] (64-bit hex)            │
│ Trainer ID:   [12345         ] (0-65535)               │
│ Secret ID:    [54321         ] (0-65535)               │
│                                                         │
│ Encounter Type: ○ Wild  ○ Static  ○ Fishing            │
│                                                         │
│ Synchronize: ☐ Enabled                                  │
│ └─ Nature: [Adamant ▼] (if enabled)                    │
└─────────────────────────────────────────────────────────┘
```

#### 3.1.2 遭遇設定カード（動的切り替え）

##### Wild Encounter
```
┌── Wild Encounter Settings ─────────────────────────────┐
│ Location:   [Route 1              ▼]                   │
│                                                         │
│ ☐ Show encounter slots                                  │
└─────────────────────────────────────────────────────────┘
```

##### Static Encounter
```
┌── Static Encounter Settings ──────────────────────────┐
│ Pokemon:    [Reshiram           ▼]                     │
│ Level:      [50] (fixed)                               │
│                                                         │
│ ☐ Include event Pokemon                                 │
└─────────────────────────────────────────────────────────┘
```

##### Fishing Encounter
```
┌── Fishing Settings ────────────────────────────────────┐
│ Location:   [Route 4 Pond      ▼]                      │
│                                                         │
│ ☐ Show fishing success rate                            │
└─────────────────────────────────────────────────────────┘
```

#### 3.1.3 生成範囲設定カード

```
┌── Generation Range ────────────────────────────────────┐
│ Max Results:   [100    ] (1-1000)                      │
│ Max Advances:  [10000  ] (1-100000)                    │
│                                                         │
│ Quick Presets:                                          │
│ [Fast Search] [Normal] [Exhaustive] [Custom]           │
│                                                         │
│ ☐ Stop at first shiny                                  │
│ ☐ Show calculation details                              │
└─────────────────────────────────────────────────────────┘
```

#### 3.1.4 アクションボタン

```
┌── Actions ─────────────────────────────────────────────┐
│ [🔄 Generate Pokemon] [⏸️ Pause] [⏹️ Stop] [💾 Save Settings] │
│                                                         │
│ Progress: ████████░░ 80% (8000/10000 advances)         │
│ Found: 12 Pokemon (2 shiny) | ETA: 00:15              │
└─────────────────────────────────────────────────────────┘
```

### 3.2 結果表示エリア

#### 3.2.1 結果テーブル

```
┌── Generated Pokemon ───────────────────────────────────────────────────────────────┐
│ Filters: [✨ Shiny Only] [🎯 Specific Nature] [⚡ Ability] [🔄 Reset]            │
│ Sort by: [Advances ▼] [Nature ▼] [Shiny ▼] | View: [Table] [Cards]              │
├────────────────────────────────────────────────────────────────────────────────────┤
│ # │Advance│Pokemon    │Lv│Nature  │Ability    │IVs      │Shiny│Gender│PID       │ │
├───┼───────┼───────────┼──┼────────┼───────────┼─────────┼─────┼──────┼──────────┤ │
│ 1 │   156 │Patrat     │3 │Adamant │Run Away   │31/25/30 │  ✨  │  ♂   │A1B2C3D4 │ │
│ 2 │   298 │Lillipup   │4 │Jolly   │Vital Sprt │28/31/25 │  ❌  │  ♀   │E5F6G7H8 │ │
│ 3 │   445 │Patrat     │2 │Modest  │Keen Eye   │25/15/31 │  ❌  │  ♂   │I9J0K1L2 │ │
│...│   ... │...        │..│...     │...        │...      │ ... │ ...  │...      │ │
└───┴───────┴───────────┴──┴────────┴───────────┴─────────┴─────┴──────┴──────────┘ │
│ Showing 1-20 of 47 results                        [< Prev] [1][2][3] [Next >]    │
└────────────────────────────────────────────────────────────────────────────────────┘
```

#### 3.2.2 詳細表示（展開時）

```
┌── Pokemon Details ─────────────────────────────────────────────────────────────────┐
│ Pokemon: Patrat (#156 advances)                                    [❌ Close]      │
├────────────────────────────────────────────────────────────────────────────────────┤
│ ┌─ Basic Info ─────────┐ ┌─ Individual Values ─┐ ┌─ RNG Details ──────┐        │
│ │ Species: Patrat      │ │ HP:     31 (Perfect) │ │ Advances:      156  │        │
│ │ Level:   3           │ │ Attack: 25 (Good)    │ │ PID:      A1B2C3D4  │        │
│ │ Nature:  Adamant     │ │ Defense:30 (Great)   │ │ Encounter Slot: 0   │        │
│ │ Ability: Run Away    │ │ Sp.Atk: 18 (OK)      │ │ Sync Applied: Yes   │        │
│ │ Gender:  Male        │ │ Sp.Def: 22 (Good)    │ │ Shiny Value: 2847   │        │
│ │ Shiny:   ✨ YES      │ │ Speed:  15 (OK)      │ │ Frame:        156   │        │
│ └──────────────────────┘ └──────────────────────┘ └─────────────────────┘        │
│                                                                                    │
└────────────────────────────────────────────────────────────────────────────────────┘
```



## 4. レスポンシブデザイン

### 4.1 デスクトップ（1200px+）
- 2カラムレイアウト：設定 | 結果
- 全情報の同時表示
- 詳細な結果テーブル

### 4.2 タブレット（768px-1199px）
- 2カラムレイアウト：設定 | 結果
- テーブルは水平スクロール

### 4.3 モバイル（767px以下）
- 1カラムレイアウト：縦積み
- 設定カードのアコーディオン化
- カード形式での結果表示
- スワイプによる結果切り替え

## 5. インタラクション設計

### 5.1 入力支援

#### 5.1.1 オートコンプリート
- ポケモン名：入力途中での候補表示
- 場所名：ゲーム内の正式名称補完
- Seed値：履歴からの自動補完

#### 5.1.2 バリデーション
- リアルタイム入力チェック
- エラー時の具体的メッセージ表示
- 正常値の緑色ハイライト

### 5.2 フィルタリング・ソート

#### 5.2.1 クイックフィルター
```
[✨ Shiny] [🎯 Nature: Adamant] [⚡ Hidden Ability] 
```

#### 5.2.2 詳細フィルター（展開時）
```
┌── Advanced Filters ────────────────────────────────────┐
│ Shiny: [Any ▼] [Shiny Only] [Normal Only]             │
│ Level: [1] [100] (Range)                            │
│ Nature: [Any ▼] [Adamant] [Jolly] [Custom...]         │
│ Advances: From[____] To[____]                          │
│ [Apply Filters] [Clear All]                            │
└────────────────────────────────────────────────────────┘
```

### 5.3 エクスポート機能

#### 5.3.1 フォーマット選択
```
┌── Export Options ──────────────────────────────────────┐
│ Format: ○ CSV ○ JSON ○ Text ○ PKM File                │
│ Include: ☑ Basic Info ☑ IVs ☑ RNG Details            │
│ Filter: ○ All Results ○ Visible Only ○ Selected Only  │
│ [📥 Download] [📋 Copy to Clipboard]                   │
└────────────────────────────────────────────────────────┘
```

## 6. パフォーマンス考慮

### 6.1 大量データ処理
- **仮想スクロール**: 1000件超の結果でも滑らかな表示
- **プログレッシブ表示**: 計算完了分から順次表示
- **バックグラウンド処理**: WebWorkerによる非ブロッキング計算

### 6.2 レスポンス性
- **リアルタイム進捗**: 1秒間隔での進捗更新
- **中断・再開**: 長時間計算の制御
- **プリロード**: よく使用されるデータの事前読み込み

## 7. アクセシビリティ

### 7.1 キーボード操作
- **Tab順序**: 論理的なフォーカス移動
- **Enter/Space**: ボタン・チェックボックスの操作

### 7.2 スクリーンリーダー対応
- **セマンティックHTML**: 適切な見出し・ラベル構造
- **ARIA属性**: 動的コンテンツの状態通知
- **代替テキスト**: アイコン・画像の説明

### 7.3 視覚的配慮
- **コントラスト**: WCAG AA準拠の色使い
- **フォントサイズ**: 最小14px、拡大対応
- **色だけに依存しない**: アイコン・テキストでの状態表示

## 8. エラーハンドリング

### 8.1 入力エラー
```
┌── Validation Error ────────────────────────────────────┐
│ ❌ Initial Seed must be a valid 32-bit hexadecimal     │
│    value (0x00000000 - 0xFFFFFFFF)                    │
│    Example: 0x12345678                                 │
│ [Fix Input] [Show Help]                                │
└────────────────────────────────────────────────────────┘
```

### 8.2 計算エラー
```
┌── Calculation Error ───────────────────────────────────┐
│ ⚠️ Pokemon generation failed due to invalid encounter │
│   data. Please check your settings and try again.     │
│ [Retry] [Reset Settings] [Report Issue]              │
└────────────────────────────────────────────────────────┘
```

### 8.3 データ読み込みエラー
```
┌── Data Loading Error ──────────────────────────────────┐
│ 🔄 Failed to load Pokemon encounter data.             │
│    Retrying... (Attempt 2/3)                          │
│ [Cancel] [Force Retry]                                 │
└────────────────────────────────────────────────────────┘
```

## 9. 実装優先度

### 9.1 Phase 1: MVP（最低限の機能）
- 基本的な入力フォーム
- 野生ポケモン生成（基本パラメータのみ）
- シンプルな結果テーブル
- CSV エクスポート

### 9.2 Phase 2: 機能拡張
- 固定シンボル・つり対応
- フィルタリング・ソート機能
- 詳細表示・統計情報
- 設定保存・プリセット

### 9.3 Phase 3: UX改善
- レスポンシブデザイン完成
- アクセシビリティ対応
- パフォーマンス最適化
- 高度なエクスポート機能

---

**作成日**: 2025年8月2日  
**バージョン**: 1.0  
**作成者**: GitHub Copilot  
**依存**: pokemon-generation-feature-spec.md
